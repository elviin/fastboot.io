<html>
  <script>
    const experimentClark1ID = "experimentClark1";
    const experimentClark2ID = "experimentClark2";

    function onLoadFastBootScript() {
      if (experiment() == experimentClark2ID) {
        window.location = "https://tutorial";
      }
    }

    // decide which exepriment we want to run
    // iOS part should register a hook triggered on:
    //  1) experimentClark1 with probability = expProbClark1
    //  2) experimentClark2 with probability = 1 - expProbClark1
    function experiment() {
      let expProbClark1 = 0.9;
      if (Math.random() < expProbClark1) {
        // Clark 1.0 experiment selected
        window.webkit.messageHandlers.experiment.postMessage(
          experimentClark1ID
        );
        return experimentClark1ID;
      } else {
        // Clark 2.0 experiment selected
        window.webkit.messageHandlers.experiment.postMessage(
          experimentClark2ID
        );
        return experimentClark2ID;
      }
    }

    window.onload = onLoadFastBootScript;
  </script>
</html>
